function Hammer(n,t,i){function v(n){return n.touches?n.touches.length:1}function nt(n){var t,i,u,f,r,e;if(n=n||window.event,ft){for(u=[],r=0,e=n.touches.length;r<e;r++)f=n.touches[r],u.push({x:f.pageX,y:f.pageY});return u}return t=document,i=t.body,[{x:n.pageX||n.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&t.clientLeft||0),y:n.pageY||n.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&t.clientTop||0)}]}function b(n,t){return Math.atan2(t.y-n.y,t.x-n.x)*180/Math.PI}function st(n,t){var i=t.x-n.x,r=t.y-n.y;return Math.sqrt(i*i+r*r)}function ht(n,t){if(n.length==2&&t.length==2){var i=st(n[0],n[1]),r=st(t[0],t[1]);return r/i}return 0}function ct(n,t){if(n.length==2&&t.length==2){var i=b(n[1],n[0]),r=b(t[1],t[0]);return r-i}return 0}function e(n,t){t.touches=nt(t.originalEvent),t.type=n,yt(a["on"+n])&&a["on"+n].call(a,t)}function w(n){n=n||window.event,n.preventDefault?(n.preventDefault(),n.stopPropagation()):(n.returnValue=!1,n.cancelBubble=!0)}function g(){r={},h=!1,at=0,f=0,o=0,u=null}function y(i){function p(){r.start=nt(i),k=+new Date,at=v(i),h=!0,ot=i;var t=n.getBoundingClientRect(),u=n.clientTop||document.body.clientTop||0,f=n.clientLeft||document.body.clientLeft||0,e=window.pageYOffset||n.scrollTop||document.body.scrollTop,o=window.pageXOffset||n.scrollLeft||document.body.scrollLeft;c={top:t.top+e-u,left:t.left+o-f},d=!0,l.hold(i)}var a,y;switch(i.type){case"mousedown":case"touchstart":a=v(i),tt=a===1,a===2&&u==="drag"&&e("dragend",{originalEvent:i,direction:s,distance:f,angle:o}),p(),t.prevent_default&&w(i);break;case"mousemove":case"touchmove":if(a=v(i),d||a!==1)d||a!==2||(tt=!1,g(),p());else return!1;dt=i,r.move=nt(i),l.transform(i)||l.drag(i);break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":y=!0,d=!1,wt=i,l.swipe(i),u=="drag"?e("dragend",{originalEvent:i,direction:s,distance:f,angle:o}):u=="transform"?(e("transformend",{originalEvent:i,position:r.center,scale:ht(r.start,r.move),rotation:ct(r.start,r.move),distance:f}),v(i)===1&&(g(),p(),y=!1)):tt&&l.tap(ot),et=u,e("release",{originalEvent:i,gesture:u,position:r.move||r.start}),y&&g()}}function vt(t){kt(n,t.relatedTarget)||y(t)}function kt(n,t){if(!t&&window.event&&window.event.toElement&&(t=window.event.toElement),n===t)return!0;if(t)for(var i=t.parentNode;i!==null;){if(i===n)return!0;i=i.parentNode}return!1}function pt(n,t){var r={},i;if(!t)return n;for(i in n)r[i]=i in t?t[i]:n[i];return r}function yt(n){return Object.prototype.toString.call(n)=="[object Function]"}function rt(n,t,i){t=t.split(" ");for(var r=0,u=t.length;r<u;r++)n.addEventListener?n.addEventListener(t[r],i,!1):document.attachEvent&&n.attachEvent("on"+t[r],i)}function it(n,t,i){t=t.split(" ");for(var r=0,u=t.length;r<u;r++)n.removeEventListener?n.removeEventListener(t[r],i,!1):document.detachEvent&&n.detachEvent("on"+t[r],i)}var a=this,bt={prevent_default:!1,css_hacks:!0,swipe:!0,swipe_time:200,swipe_min_distance:20,drag:!0,drag_vertical:!0,drag_horizontal:!0,drag_min_distance:20,transform:!0,scale_treshold:.1,rotation_treshold:15,tap:!0,tap_double:!0,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:!0,hold_timeout:500},l;t=pt(bt,t),function(){var r,f;if(!t.css_hacks)return!1;var u=["webkit","moz","ms","o",""],e={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},i="";for(r=0;r<u.length;r++)for(f in e)i=f,u[r]&&(i=u[r]+i.substring(0,1).toUpperCase()+i.substring(1)),n.style[i]=e[f]}();var f=0,o=0,s=0,r={},at=0,h=!1,u=null,et=null,k=null,p={x:0,y:0},ut=null,lt=null,c={},d=!1,ot,dt,wt,ft="ontouchstart"in window,tt=!1;this.option=function(n,r){return r!=i&&(t[n]=r),t[n]},this.getDirectionFromAngle=function(n){var i={down:n>=45&&n<135,left:n>=135||n<=-135,up:n<-45&&n>-135,right:n>=-45&&n<=45},r,t;for(t in i)if(i[t]){r=t;break}return r},this.destroy=function(){ft?it(n,"touchstart touchmove touchend touchcancel",y):(it(n,"mouseup mousedown mousemove",y),it(n,"mouseout",vt))},l={hold:function(n){t.hold&&(u="hold",clearTimeout(lt),lt=setTimeout(function(){u=="hold"&&e("hold",{originalEvent:n,position:r.start})},t.hold_timeout))},swipe:function(n){var i,h,l,v,y,p;r.move&&u!=="transform"&&(i=r.move[0].x-r.start[0].x,h=r.move[0].y-r.start[0].y,f=Math.sqrt(i*i+h*h),l=+new Date,v=l-k,t.swipe&&t.swipe_time>v&&f>t.swipe_min_distance&&(o=b(r.start[0],r.move[0]),s=a.getDirectionFromAngle(o),u="swipe",y={x:r.move[0].x-c.left,y:r.move[0].y-c.top},p={originalEvent:n,position:y,direction:s,distance:f,distanceX:i,distanceY:h,angle:o},e("swipe",p)))},drag:function(n){var i=r.move[0].x-r.start[0].x,l=r.move[0].y-r.start[0].y,v,p,y;if(f=Math.sqrt(i*i+l*l),t.drag&&f>t.drag_min_distance||u=="drag"){if(o=b(r.start[0],r.move[0]),s=a.getDirectionFromAngle(o),v=s=="up"||s=="down",(v&&!t.drag_vertical||!v&&!t.drag_horizontal)&&f>t.drag_min_distance)return;u="drag",p={x:r.move[0].x-c.left,y:r.move[0].y-c.top},y={originalEvent:n,position:p,direction:s,distance:f,distanceX:i,distanceY:l,angle:o},h&&(e("dragstart",y),h=!1),e("drag",y),w(n)}},transform:function(n){var y,s,l,i,o,a;if(t.transform){if(y=v(n),y!==2)return!1;if(s=ct(r.start,r.move),l=ht(r.start,r.move),u==="transform"||Math.abs(1-l)>t.scale_treshold||Math.abs(s)>t.rotation_treshold)return u="transform",r.center={x:(r.move[0].x+r.move[1].x)/2-c.left,y:(r.move[0].y+r.move[1].y)/2-c.top},(h||typeof r.startCenter=="undefined")&&(r.startCenter=r.center),i=r.center.x-r.startCenter.x,o=r.center.y-r.startCenter.y,f=Math.sqrt(i*i+o*o),a={originalEvent:n,position:r.center,scale:l,rotation:s,distance:f,distanceX:i,distanceY:o},h&&(e("transformstart",a),h=!1),e("transform",a),w(n),!0}return!1},tap:function(n){var o=+new Date,l=o-k,s,h,c;(!t.hold||t.hold&&t.hold_timeout>l)&&(s=function(){if(p&&t.tap_double&&et=="tap"&&k-ut<t.tap_max_interval){if(r===i||r.start===i)return!1;var n=Math.abs(p[0].x-r.start[0].x),u=Math.abs(p[0].y-r.start[0].y);return p&&r.start&&Math.max(n,u)<t.tap_double_distance}return!1}(),s?(u="double_tap",ut=null,e("doubletap",{originalEvent:n,position:r.start}),w(n)):(h=r.move?Math.abs(r.move[0].x-r.start[0].x):0,c=r.move?Math.abs(r.move[0].y-r.start[0].y):0,f=Math.max(h,c),f<t.tap_max_distance&&(u="tap",ut=o,p=r.start,t.tap&&(e("tap",{originalEvent:n,position:r.start}),w(n)))))}},ft?rt(n,"touchstart touchmove touchend touchcancel",y):(rt(n,"mouseup mousedown mousemove",y),rt(n,"mouseout",vt))}if(function(){this.VRED=function(){function n(t,i,r,u,f,e,o,s,h){t==null&&(t="localhost"),i==null&&(i="8888"),r==null&&(r="pythonasync"),u==null&&(u="1920"),f==null&&(f="1080"),e==null&&(e=5),this.colour=o!=null?o:{red:1,green:1,blue:1},this.strFps=s!=null?s:15,this.strQuality=h!=null?h:75,this.ip=n.getString(t),this.port=n.getString(i),this.funcName=n.getString(r),this.width=n.getString(u),this.height=n.getString(f),this.factor=n.getInt(e),this.streaming=!1,this._setInitialNavigationMode(),this._buildBaseURL(),this._isDebug=!1;return}return n.create=function(t,i,r,u,f){return t==null&&(t="localhost"),i==null&&(i="8888"),r==null&&(r="pythonasync"),u==null&&(u="1920"),f==null&&(f="1080"),new n(t,i,r,u,f)},n.prototype.setIp=function(t){t==null&&(t="localhost"),this.ip=n.getString(t),this._buildBaseURL()},n.prototype.setPort=function(t){t==null&&(t="8888"),this.port=n.getString(t),this._buildBaseURL()},n.prototype.setDebugMode=function(n){this._isDebug=n},n.prototype.setWidth=function(t){t==null&&(t="1920"),this.width=n.getString(t)},n.prototype.setHeight=function(t){t==null&&(t="1080"),this.height=n.getString(t)},n.prototype.setStrFps=function(t){t==null&&(t="15"),this.strFps=n.getString(t),this._buildBaseURL()},n.prototype.setStrQuality=function(t){t==null&&(t="75"),this.strQuality=n.getString(t),this._buildBaseURL()},n.prototype.setFactor=function(t){t==null&&(t=5),this.factor=n.getInt(t)},n.prototype.setPythonFunction=function(t){t==null&&(t="pythonasync"),this.funcName=n.getString(t),this._buildBaseURL()},n.prototype.setColour=function(t,i,r){t==null&&(t=1),i==null&&(i=1),r==null&&(r=1),this.colour.red=n.getFloat(t),this.colour.green=n.getFloat(i),this.colour.blue=n.getFloat(r)},n.prototype.getIp=function(){return this.ip},n.prototype.getPort=function(){return this.port},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getStrFps=function(){return this.strFps},n.prototype.getStrQuality=function(){return this.strQuality},n.prototype.getFactor=function(){return this.factor},n.prototype.getColour=function(){return this.colour},n.prototype.getPythonFunction=function(){return this.funcName},n.prototype._buildBaseURL=function(){this.url="http://"+this.ip+":"+this.port+"/"+this.funcName+"?value=",this.shortUrl="http://"+this.ip+":"+this.port+"/",this.streamUrl="http://"+this.ip+":"+this.port+"/stream?quality="+this.strQuality+"&fps="+this.strFps},n.prototype.getBaseUrl=function(){return this.url},n.prototype.getShortUrl=function(){return this.shortUrl},n.prototype.getStreamUrl=function(){return this.streamUrl},n.prototype.getBaseURL=function(){return this.url},n.prototype.getShortURL=function(){return this.shortUrl},n.prototype.getStreamURL=function(){return this.streamUrl},n.prototype.getStatus=function(){var n;return n=this,$.ajax({type:"GET",url:n.shortUrl,async:!1,success:function(){return n.online=!0},error:function(){return n.online=!1}}),this.online},n.prototype.getRenderWindowHeight=function(t){var i,r;return t==null&&(t=0),t=n.getString(t),r=this,i="",$.ajax({type:"GET",url:""+r.shortUrl+"/pythoneval?value=getRenderWindowHeight("+t+")",dataType:"text",async:!1,success:function(n){i=n},error:function(){i=0}}),i===0?0:n.getInt(i.split("=")[1])},n.prototype.getRenderWindowWidth=function(t){var r,i,u;return t==null&&(t=0),t=n.getString(t),r="getRenderWindowWidth("+t+")",u=this,i="",$.ajax({type:"GET",url:""+u.shortUrl+"/pythoneval?value="+r,dataType:"text",async:!1,success:function(n){i=n},error:function(){i=0}}),i===0?0:n.getInt(i.split("=")[1])},n.prototype.enableAntiAliasing=function(){return this.antialiasing=!0,this._sendToVRED("enableAntialiasing(true)")},n.prototype.disableAntiAliasing=function(){return this.antialiasing=!1,this._sendToVRED("enableAntialiasing(false)")},n.prototype.enableSimulation=function(){return this._sendToVRED("enableSimulation(true)")},n.prototype.disableSimulation=function(){return this._sendToVRED("enableSimulation(false)")},n.prototype.setRaytracingMode=function(){return this.raytracingMode=!0,this.openGLMode=!1,this._sendToVRED("setRenderQuality(VR_QUALITY_RAYTRACING)")},n.prototype.setOpenGLMode=function(){return this.raytracingMode=!0,this.openGLMode=!1,this._sendToVRED("setRenderQuality(VR_QUALITY_REALISTIC_HIGH)")},n.prototype.setYUp=function(){return this._sendToVRED("setCameraZUp(false)")},n.prototype.setZUp=function(){return this._sendToVRED("setCameraZUp(true)")},n.prototype.enableHighQualityAntialiasing=function(){return this._sendToVRED("setHighQualityAntialiasing(true)")},n.prototype.disableHighQualityAntialiasing=function(){return this._sendToVRED("setHighQualityAntialiasing(false)")},n.prototype.setRaytracingDownscaleFactor=function(t){var i;t==null&&(t=0),t=n.getInt(t);switch(t){case 0:i="setRaytracingDownscaleFactor(VR_DOWNSCALE_FACTOR_LOW)";break;case 1:i="setRaytracingDownscaleFactor(VR_DOWNSCALE_FACTOR_MEDIUM)";break;case 2:i="setRaytracingDownscaleFactor(VR_DOWNSCALE_FACTOR_HIGH)"}return this._sendToVRED(i)},n.prototype.enableSuperSampling=function(){return this._sendToVRED("setSuperSampling(true)")},n.prototype.disableSuperSampling=function(){return this._sendToVRED("setSuperSampling(false)")},n.prototype.setSuperSamplingQuality=function(t){var i;t==null&&(t=0),t=n.getInt(t);switch(t){case 0:i="setSuperSamplingQuality(VR_SS_QUALITY_LOW)";break;case 1:i="setSuperSamplingQuality(VR_SS_QUALITY_MEDIUM)";break;case 2:i="setSuperSamplingQuality(VR_SS_QUALITY_HIGH)"}return this._sendToVRED(i)},n.prototype.enableWireframeMode=function(){return this._sendToVRED("setWireframe(true)")},n.prototype.disableWireframeMode=function(){return this._sendToVRED("setWireframe(false)")},n.prototype.showInitialView=function(){return this._sendToVRED("showInitialView()")},n.prototype.showPIVRLogo=function(){return this._sendToVRED("showPIVRLogo(true)")},n.prototype.hidePIVRLogo=function(){return this._sendToVRED("showPIVRLogo(false)")},n.prototype.showViewCube=function(){return this._sendToVRED("showViewCube(true)")},n.prototype.hideViewCube=function(){return this._sendToVRED("showViewCube(false)")},n.prototype.showStatistic=function(){return this._sendToVRED("showStatistic(true)")},n.prototype.hideStatistic=function(){return this._sendToVRED("showStatistic(false)")},n.prototype.showWholeScene=function(){return this._sendToVRED("showWholeScene()")},n.prototype.undockRenderWindow=function(t){return t==null&&(t=0),t=n.getString(n.getInt(t)),this._sendToVRED("setRenderWindowDocked("+t+",false,NOBORDER)")},n.prototype.dockRenderWindow=function(t){return t==null&&(t=0),t=n.getString(n.getInt(t)),this._sendToVRED("setRenderWindowDocked("+t+",true,FULLSCREEN)")},n.prototype.resizeRenderWindow=function(t,i,r){return t==null&&(t=0),i==null&&(i=this.width),r==null&&(r=this.height),t=n.getString(n.getInt(t)),i=n.getString(n.getInt(i)),r=n.getString(n.getInt(r)),this._sendToVRED("resizeRenderWindow("+t+","+i+","+r+")")},n.prototype.enterFullscreen=function(t){return t==null&&(t=0),t=n.getString(n.getInt(t)),this._sendToVRED("setRenderWindowDocked("+t+",false,FULLSCREEN)")},n.prototype.exitFullscreen=function(t){return t==null&&(t=0),t=n.getString(n.getInt(t)),this._sendToVRED("setRenderWindowDocked("+t+",true,FULLSCREEN)")},n.prototype.jumpViewPoint=function(t){return t=n.getString(t),this._sendToVRED("jumpViewPoint('"+t+"')")},n.prototype.selectViewPoint=function(t){return t=n.getString(t),this._sendToVRED("selectViewPoint('"+t+"')")},n.prototype.selectCamera=function(t){return t=n.getString(t),this._sendToVRED("selectCamera('"+t+"')")},n.prototype.pauseAnimation=function(t){return t=n.getString(t),this._sendToVRED("pauseAnimation('"+t+"')")},n.prototype.setNavigatorMode=function(t){return t=n.getInt(t),(t<0||t>3)&&(t=2),t=n.getString(t),this._sendToVRED("setNavigatorMode("+t+")")},n.prototype.enableClippingPlane=function(){return this._sendToVRED("enableClippingPlane(true)")},n.prototype.disableClippingPlane=function(){return this._sendToVRED("enableClippingPlane(false)")},n.prototype.showClippingPlaneVisualization=function(t,i,r){return t==null&&(t=.2),i==null&&(i=.3),r==null&&(r=.4),t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),r=n.getString(n.getFloat(r)),this._sendToVRED("setClippingPlaneVisualization(true,Vec3f("+t+","+i+","+r+"))")},n.prototype.hideClippingPlaneVisualization=function(){return this._sendToVRED("setClippingPlaneVisualization(false,Vec3f(0.2,0.3,0.4))")},n.prototype.showClippingGridVisualization=function(t,i,r){return t==null&&(t=.63),i==null&&(i=.82),r==null&&(r=.89),t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),r=n.getString(n.getFloat(r)),this._sendToVRED("setClippingGridVisualization(true,Vec3f("+t+","+i+","+r+"))")},n.prototype.hideClippingGridVisualization=function(){return this._sendToVRED("setClippingGridVisualization(false,Vec3f(0.63,0.82,0.89))")},n.prototype.showClippingContourVisualization=function(t,i,r,u){return t==null&&(t=1),i==null&&(i=.7),r==null&&(r=0),u==null&&(u=3),t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),r=n.getString(n.getFloat(r)),u=n.getString(n.getInt(u)),this._sendToVRED("setClippingContourVisualization(true,Vec3f("+t+","+i+","+r+"),"+u+")")},n.prototype.hideClippingContourVisualization=function(){return this._sendToVRED("setClippingContourVisualization(false,Vec3f(1,0.7,0),3)")},n.prototype.startCluster=function(){return this._sendToVRED("startCluster()")},n.prototype.startRaytracingCluster=function(t){return typeof t=="object"&&(t=t.join(" ")),t=n.getString(t),this._sendToVRED("startRaytracingCluster('"+t+"')")},n.prototype.stopCluster=function(){return this._sendToVRED("stopCluster()")},n.prototype.destroyScene=function(){return this._sendToVRED("destroyScene()")},n.prototype.newScene=function(){return this._sendToVRED("newScene()")},n.prototype.updateScene=function(){return this._sendToVRED("updateScene()")},n.prototype.load=function(t){return t=n.getString(t),this._sendToVRED("load('"+t+"')")},n.prototype.loadGeometry=function(t){return t=n.getString(t),this._sendToVRED("loadGeometry('"+t+"')")},n.prototype.loadOSB=function(t){return t=n.getString(t),this._sendToVRED("loadOSB('"+t+"')")},n.prototype.createSnapshot=function(t,i,r,u,f,e){var o,s,h;return i==null&&(i=this.width),r==null&&(r=this.height),u==null&&(u=1),f==null&&(f=!1),e==null&&(e=72),t=n.getString(t),i=n.getString(n.getInt(i)),r=n.getString(n.getInt(r)),u=n.getInt(u),u<0?u=0:u>3&&(u=3),u=n.getString(u),e=n.getString(n.getFloat(e)),h=f===!0?s=o=1:s=o=0,this._sendToVRED("createSnapshot('"+t+"',"+i+","+r+","+u+","+f+","+h+","+s+","+o+","+e+",true,false)")},n.prototype.createBox=function(t,i,r,u,f,e,o,s,h,c){return t==null&&(t=1e3),i==null&&(i=1e3),r==null&&(r=1e3),u==null&&(u=10),f==null&&(f=10),e==null&&(e=10),o==null&&(o=this.colour.red),s==null&&(s=this.colour.green),h==null&&(h=this.colour.blue),c==null&&(c=1),t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),r=n.getString(n.getFloat(r)),u=n.getString(n.getInt(u)),f=n.getString(n.getInt(f)),e=n.getString(n.getInt(e)),o=n.getString(n.getFloat(o)),s=n.getString(n.getFloat(s)),h=n.getString(n.getFloat(h)),c=n.getString(n.getFloat(c)),this._sendToVRED("createBox("+t+","+i+","+r+","+u+","+f+","+e+","+o+","+s+","+h+","+c+")")},n.prototype.createCone=function(t,i,r,u,f,e,o,s,h){return t==null&&(t=1e3),i==null&&(i=1e3),r==null&&(r=16),u==null&&(u=!0),f==null&&(f=!0),e==null&&(e=this.colour.red),o==null&&(o=this.colour.green),s==null&&(s=this.colour.blue),h==null&&(h=1),t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),r=n.getString(n.getInt(r)),o=n.getString(n.getFloat(o)),s=n.getString(n.getFloat(s)),this._sendToVRED("createCone("+t+","+i+","+r+","+u+","+f+","+e+","+o+","+s+")")},n.prototype.createCylinder=function(t,i,r,u,f,e,o,s,h,c){return t==null&&(t=1e3),i==null&&(i=1e3),r==null&&(r=16),u==null&&(u=!0),f==null&&(f=!0),e==null&&(e=!0),o==null&&(o=this.colour.red),s==null&&(s=this.colour.green),h==null&&(h=this.colour.blue),c==null&&(c=1),t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),r=n.getString(n.getInt(r)),s=n.getString(n.getFloat(s)),h=n.getString(n.getFloat(h)),this._sendToVRED("createCylinder("+t+","+i+","+r+","+u+","+f+","+e+","+o+","+s+","+h+")")},n.prototype.createPlane=function(t,i,r,u,f,e,o){return t==null&&(t=1e3),i==null&&(i=1e3),r==null&&(r=10),u==null&&(u=10),f==null&&(f=this.colour.red),e==null&&(e=this.colour.green),o==null&&(o=this.colour.blue),t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),r=n.getString(n.getInt(r)),u=n.getString(n.getInt(u)),f=n.getString(n.getFloat(f)),e=n.getString(n.getFloat(e)),o=n.getString(n.getFloat(o)),this._sendToVRED("createPlane("+t+","+i+","+r+","+u+","+f+","+e+","+o+")")},n.prototype.createSphere=function(t,i,r,u,f){return t==null&&(t=32),i==null&&(i=1e3),r==null&&(r=this.colour.red),u==null&&(u=this.colour.green),f==null&&(f=this.colour.blue),t=n.getString(n.getInt(t)),i=n.getString(n.getFloat(i)),r=n.getString(n.getFloat(r)),u=n.getString(n.getFloat(u)),f=n.getString(n.getFloat(f)),this._sendToVRED("createSphere("+t+","+i+","+r+","+u+","+f+")")},n.prototype.degToRadVred=function(t){return t=n.getString(n.getFloat(t)),this._sendToVRED("degToRad("+t+")")},n.prototype.getVariantSets=function(){return this.send(2,this.shortUrl,"variants?value=getVariantSets",this._buildVariants),""+this.shortUrl+"variants?value=getVariantSets"},n.prototype._buildVariants=function(n,t){var r,f,u,i,e;i=t,f=JSON.stringify(n,null,2),r=$.parseJSON(f),i.vsJSON=r,i.variantGroups=[],i.variantSets=[];for(u in r)e=r[u],r.hasOwnProperty(u)&&(i.variantGroups.push(u),i.variantSets.push(e))},n.prototype.getVariantGroups=function(){return this.variantGroups?this.variantGroups:[]},n.prototype.getVGroups=function(){return this.getVariantGroups},n.prototype.getVariants=function(){return this.variantSets?this.variantSets:[]},n.prototype.getVariantSetsJSON=function(){return this.vsJSON?this.vsJSON:[]},n.prototype.selectVariantSet=function(t){return t=n.getString(t),this._sendToVRED("selectVariantSet('"+t+"')")},n.prototype.selectVariantSets=function(n){var t,i,r;return t=function(){for(var i=[],t=0,u=n.length;t<u;t++)r=n[t],i.push("'"+r+"'");return i}(),i="[selectVariantSet(v) for v in ["+t+"]]",this._sendToVRED(i)},n.prototype._defaultClippings=function(){return this.showClippingPlaneVisualization(),this.showClippingContourVisualization(),this.showClippingGridVisualization(),this.disableClippingPlane(),!0},n.prototype.reset=function(){return this._defaultClippings(),this.constructor(this.getIp(),this.getPort(),null,1920,1080,5)},n.prototype._generateStreamImageElement=function(n){return $(document.createElement("img")).attr({src:this.getStreamUrl(),alt:"stream-image",id:"streamImage"}).css({width:this.$str_el.width(),height:this.$str_el.height()}).prependTo(n)},n.prototype.startStream=function(t){var i;return i=this,t=n.getString(t),this.str_el=t[0]==="#"?t:"#"+t,this.$str_el=$(this.str_el),this.str_typ=this.$str_el.prop("tagName"),this.str_typ==="DIV"?this._generateStreamImageElement(this.str_el):this.str_typ==="IMG"&&this.$str_el.attr("src",this.getStreamUrl()).css({width:this.$str_el.parent().width(),height:this.$str_el.parent().height()}),this.streaming=!0,this.getStreamUrl()},n.prototype.stopStream=function(){if(this.streaming)return this.str_typ==="IMG"?this.$str_el.attr("src","").css({width:0,height:0}):this.str_typ==="DIV"&&$("#streamImage").remove(),this.$str_el=null,delete this.$str_el,delete this.str_el,this.streaming=!1,this.streaming;throw new Error("No streaming set yet.");},n.prototype._setInitialNavigationMode=function(){this._rotate=!0,this._pan=!1,this._zoom=!1},n.prototype.pan=function(t,i){return t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),this._sendToVRED("setCameraPanning("+t+","+i+")")},n.prototype.zoom=function(t){return t=n.getString(n.getFloat(t)),this._sendToVRED("setCameraZoom("+t+")")},n.prototype.thumble=function(t,i){return t=n.getString(n.getFloat(t)),i=n.getString(n.getFloat(i)),this._sendToVRED("setCameraRotation(degToRad("+t+"),degToRad("+i+"))")},n.prototype.rotate=function(n,t){return this.thumble(n,t)},n.prototype.__pan=function(t,i){var r;return r=3,t=n.getString(n.getFloat(t/(r/this.factor))),i=n.getString(n.getFloat(-i/(r/this.factor))),this._sendToVRED("setCameraPanning("+t+","+i+")")},n.prototype.__zoom=function(t){var i,r;return r=100,i=n.getString(n.getFloat(t/(r/this.factor))),this._sendToVRED("setCameraZoom("+i+")")},n.prototype.__thumble=function(t,i){var r;return r=50,t=n.getString(n.getFloat(t/(r/this.factor))),i=n.getString(n.getFloat(-i/(r/this.factor))),this._sendToVRED("setCameraRotation(degToRad("+t+"),degToRad("+i+"))")},n.prototype.navigate=function(t){var i,r;i=this,t=n.getString(t),this.el=t[0]==="#"?t:"#"+t,this.$el=$(this.el),r=function(){i._rotate===!0&&(i.$el.off("swipemove"),i.$el.on("swipemove",function(n,t){var r,u;r=t.delta[0].lastX,u=t.delta[0].lastY,i.__thumble(r,u),n.preventDefault()})),i._zoom===!0&&(i.$el.off("swipemove"),i.$el.on("swipemove",function(n,t){var r;r=t.delta[0].lastY,i.__zoom(r),n.preventDefault()})),i._pan===!0&&(i.$el.off("swipemove"),i.$el.on("swipemove",function(n,t){var r,u;r=t.delta[0].lastX,u=t.delta[0].lastY,i.__pan(r,u),n.preventDefault()}))},this._timer=setInterval(r,250)},n.prototype.stopNavigation=function(){this.$el!==void 0&&(this.$el.off("swipemove"),clearInterval(this._timer))},n.prototype.setNavigationMode=function(t){t==null&&(t="rotate"),t=n.getString(t);switch(t){case"pan":this._rotate=!1,this._zoom=!1,this._pan=!0;break;case"rotate":this._pan=!1,this._zoom=!1,this._rotate=!0;break;case"thumble":this._pan=!1,this._zoom=!1,this._rotate=!0;break;case"zoom":this._rotate=!1,this._pan=!1,this._zoom=!0}},n.prototype.isRunning=function(){var n,t;return t=this,n=$.Deferred(),$.ajax({url:t.shortUrl,success:function(){n.resolve},error:function(){n.reject}}),n.promise()},n.prototype._ajax=function(t,i,r,u){var f;f=this,$.ajax({type:"GET",url:""+n.getString(t)+n.getString(i),cache:!1,dataType:"json",success:function(n){r(n,u)},error:function(){return!1}})},n.prototype._get=function(n,t){var i;return i=$.Deferred(),$.ajax({type:"GET",url:n+t,success:function(){i.resole},error:function(){i.reject}}),i.promise()},n.prototype.send=function(t,i,r,u,f){var e;t==null&&(t=1),u==null&&(u=this.readData),f==null&&(f=this),e=this,t=n.getInt(t),i=n.getString(i),r=n.getString(r),t===1?this._get(i,r).then(function(){return!0},function(){return!1}):t===2&&this._ajax(i,r,u,f)},n.prototype._sendToVRED=function(t){return this._isDebug&&(this.url=this.url.replace("http://","https://"),this.url=this.url.replace("8888/pythonasync?value=","4545/api/vredapplication/SendCommand?command=")),HtmlCc.Dashboard.refreshDashboard(function(){}),t=n.getString(t),this.send(1,this.url,t),""+this.url+t},n.prototype.getFromVRED=function(t){var i;return t=n.getString(t),i=$.Deferred(),$.ajax({type:"GET",url:""+self.shortUrl+"/pythoneval?value="+t,dataType:"text",success:function(){i.resolve},error:function(){i.reject}}),i.promise()},n.prototype._interpretData=function(n){return this.getFromVRED(n).then(function(){return data},function(){return null})},n.prototype.sendScript=function(t,i,r,u){r==null&&(r=this.readData),u==null&&(u=this),i=n.getString(i),t=n.getString(t),$.ajax({type:"GET",url:i,cache:!1,data:{arg:t},success:function(n){r(n,u)},error:function(){return!1}})},n.prototype.readData=function(t,i){return i==null&&(i=this),n.getString(t)},n.prototype.teardown=function(){this.__proto__=null,delete this._pan,delete this._rotate,delete this._zoom,delete this.colour,delete this.factor,delete this.height,delete this.ip,delete this.port,delete this.funcName,delete this.shortUrl,delete this.streaming,delete this.strFps,delete this.strQuality,delete this.streamUrl,delete this.url,delete this.width,delete this.__proto__,delete this},n.getString=function(n){return n.toString()},n.getInt=function(n){return parseInt(n)},n.getFloat=function(n){return parseFloat(n)},n}()}.call(this),jQuery.fn.hammer=function(n){return this.each(function(){var r=new Hammer(this,n),u=jQuery(this),i,t;for(u.data("hammer",r),i=["hold","tap","doubletap","transformstart","transform","transformend","dragstart","drag","dragend","swipe","release"],t=0;t<i.length;t++)r["on"+i[t]]=function(n,t){return function(i){n.trigger(jQuery.Event(t,i))}}(u,i[t])})},function(n){function t(){var t=arguments[0],i=arguments[1];this._delegateGuids=[],this._fn=function(r){i.trigger(n.Event(t,r))},this._delegateFn=function(i){var r=n.Event(t,i);n(r.originalEvent.target).trigger(r)}}var i=["hold","tap","doubletap","transformstart","transform","transformend","dragstart","drag","dragend","swipe","release"];t.prototype={addDelegate:function(n){return this._delegateGuids.push(n),this},removeDelegate:function(n){var t=this._delegateGuids.indexOf(n);return t>=0&&this._delegateGuids.splice(t),this},getFn:function(){return this._delegateGuids.length>0?this._delegateFn:this._fn},destroy:function(){this._fn=null,this._delegateFn=null,this._delegateGuids=null,delete this._fn,delete this._delegateFn,delete this._delegateGuids}},n.each(i,function(i,r){n.event.special[r]={setup:function(i){var o=n(this),e=o.data("hammerjs");e||(e=new Hammer(this,i),e.__Fns={},o.data("hammerjs",e)),e.__Fns[r]=new t(r,o)},add:function(t){var i=n(this).data("hammerjs");!t.selector||i.__Fns[r].addDelegate(t.guid),i["on"+r]=i.__Fns[r].getFn()},remove:function(t){var i=n(this).data("hammerjs");!t.selector||i.__Fns[r].removeDelegate(t.guid),i["on"+r]=i.__Fns[r].getFn()},teardown:function(){var i=n(this).data("hammerjs");i.__Fns[r].destroy(),delete i.__Fns[r]}}})}(jQuery),jQuery.support.cors=!0,HtmlCc===undefined)var HtmlCc={};HtmlCc.Vred===undefined&&(HtmlCc.Vred={}),HtmlCc.Vred=function(){function ti(){return f}function ui(n){r.removeClass("local-vred"),u=!1,f=n,localStorage&&localStorage.setItem("vred-ip",f)}function ei(t){n.setDebugMode(t)}function fi(){return e}function tt(n){r.removeClass("local-vred"),u=!1,e=n,localStorage&&localStorage.setItem("vred-port",e)}var f="",e=8888;localStorage&&(localStorage.getItem("vred-ip")&&(f=localStorage.getItem("vred-ip")),localStorage.getItem("vred-port")&&(e=localStorage.getItem("vred-port")));var n,u=!1,r,hi=!1,si=!0,ci=!0,bi=!1,s=null,i=null,ai=!1,wt=function(t,i){n=VRED.create(f,e),r=t,y(i)},y=function(n){kt(function(){u=!0,r.addClass("local-vred"),u==!0?HtmlCc.Libs.Log.log("-- vred - Vred communication initialized on {0}:{1}".format(f,e)):HtmlCc.Libs.Log.log("-- vred - Vred communication turned off"),n()},function(){u=!1,HtmlCc.Libs.Log.log("-- vred - Vred communication turned off - {0}:{1} did not respond".format(f,e)),n()})},bt=function(){u!=!0},pt=function(){return n},kt=function(t,i){$.ajax({type:"GET",timeout:5e3,url:n.shortUrl,async:!0,success:function(n,i){t(),HtmlCc.Libs.Log.log("-- success vred - get status: "+i)},error:function(n,t){i(),HtmlCc.Libs.Log.error("-- error vred - get status: "+t)}})},h=function(t,i,r){if(i>=100){t("error");return}var u=1e3;i<5&&(u=2e3),i<1&&(u=5e3),window.setTimeout(function(){$.ajax({type:"GET",url:n.shortUrl+"isloadingfile",async:!0,success:function(n){n!="0"?h(t,i+1,!0):r?t("ok"):h(t,i+1,r)},error:function(){h(t,i+1,r)}})},u)},dt=function(){v("init")},gt=function(t){n.setSuperSamplingQuality(t)},yi=function(){n.showInitialView()},ni=function(t,i){for(var r=t[0],o="****",e=!1,u,f=0;f<r.length;f++)if(isNaN(parseInt(r[f]))){e=!0;break}i||e||(r="9P9P"),(!i||e)&&r.length==4&&r.substr(0,2)!=r.substr(2,2)&&(o="**"+r.substr(2,2),r=r.substr(0,2)+r.substr(0,2)),u=[],u.push(r),u.push(o),$.each(t,function(n,t){n!==0&&u.push(t)}),n.selectVariantSets(u)},oi=function(t){n.pauseAnimation(t)},v=function(t){n.selectVariantSet(t)},ii=function(t){n.selectViewPoint(t)},yt=function(){return u},o=function(){return $("div.model-label")},pi=function(){var t=0,i=n.getVariantGroups().indexOf("ViewPoints"),f,e;if(!(i<1)){var r=n.getVariants()[i],s=r.length,u=o();u.append('<div class="viewpoints-toggle" style="padding-top: 12px; position: absolute; right: 150px;"><input class="skoda-grey-button" type="button" value="V"/></div>'),f=u.find("div.viewpoints-toggle"),e=f.find("input"),e.bind("click.htmlcc",function(){t>=s&&(t=0),n.selectViewPoint(r[t]),t++})}},ki=function(){var i=o();i.append('<div class="raytrace-toggle" style="padding-top: 12px; position: absolute; right: 115px;"><input class="skoda-grey-button" type="button" value="R"/></div>');var r=i.find("div.raytrace-toggle"),u=r.find("input"),t=!1;u.bind("click.htmlcc",function(){t?(n.setOpenGLMode(),t=!1):(n.setRaytracingMode(),t=!0),HtmlCc.Libs.Log.log("-- vred - Vred raytrace mode toggled to: {0}".format(t))})},wi=function(){var i=o();i.append('<div class="cube-toggle" style="padding-top: 12px; position: absolute; right: 80px;"><input class="skoda-grey-button" type="button" value="C"/></div>');var r=i.find("div.cube-toggle"),u=r.find("input"),t=!0;u.bind("click.htmlcc",function(){t?(n.hideViewCube(),t=!1):(n.showViewCube(),t=!0),HtmlCc.Libs.Log.log("-- vred - Vred navigation cube toggled to: {0}".format(t))})},vi=function(){var i=o();i.append('<div class="fullscreen-toggle" style="padding-top: 12px; position: absolute; right: 45px;"><input class="skoda-grey-button" type="button" value="F"/></div>');var r=i.find("div.fullscreen-toggle"),u=r.find("input"),t=!1;u.bind("click.htmlcc",function(){t?(n.exitFullscreen(),t=!1):(n.enterFullscreen(),t=!0),HtmlCc.Libs.Log.log("-- vred - Vred live stream toggled to: {0}".format(t))})},li=function(){var t=o();t.append('<div class="live-stream-toggle" style="padding-top: 12px; position: absolute; right: 10px;"><input class="skoda-grey-button" type="button" value="L"/></div>');var i=t.find("div.live-stream-toggle"),r=i.find("input"),n=!1;l(s),r.bind("click.htmlcc",function(){n?(s.removeClass("top-most"),p(),n=!1):(s.addClass("top-most"),c(),n=!0),HtmlCc.Libs.Log.log("-- vred - Vred live stream toggled to: {0}".format(n))})},vt=function(t){function o(n,t){var i=t.x-n.x,r=t.y-n.y;return Math.sqrt(i*i+r*r)}var l,v,y,i,u,e;s=t,l=this,this.factor=5,i=0,u=0,e=0;var h=5,a=65,c=2,f=!1;t.on("tap",function(){f=!f,f?r.addClass("vred-mode-move"):r.removeClass("vred-mode-move")});t.on("dragstart",function(n){i=n.touches[0].x,u=n.touches[0].y,f=r.hasClass("vred-mode-move")});t.on("drag",function(t){var e,o,r=t.touches[0];f?(e=(r.x-i)*c,o=(u-r.y)*c,n.pan(e,o)):(e=(r.x-i)/h,o=(u-r.y)/h,n.thumble(e,o)),i=r.x,u=r.y});t.on("transformstart",function(n){var t=n.touches[0],i=n.touches[1];e=o(t,i)});t.on("transform",function(t){var f=t.touches[0],h=t.touches[1],s=o(f,h),r=e-s;r=r/a,(r>.6||r<-.6)&&(n.zoom(r),e=s,i=f.x,u=f.y)})},ut=function(t){n.zoom(t)},a=function(t){var i=0,r=t?1:0,u=1,f=1,e=20,o=2e3;n._sendToVRED("enableStereo({0}, {1}, {2}, {3}, {4}, {5})".format(i,r,u,f,e,o))},w=function(){t.settings.isFullscreen=!0,n.enterFullscreen()},b=function(){t.settings.isFullscreen=!1,n.exitFullscreen()},d=function(){t.settings.isOpenGL=!0,n.setOpenGLMode()},g=function(){t.settings.isOpenGL=!1,n.setRaytracingMode()},nt=function(){t.settings.isStereo=!0,a(!0)},k=function(){t.settings.isStereo=!1,a(!1)},at=function(){t.settings.isSuperSampling=!0,n.enableSuperSampling()},rt=function(){t.settings.isSuperSampling=!1,n.disableSuperSampling()},it=function(){t.settings.isAntialiasing=!0,n.enableAntiAliasing()},ft=function(){t.settings.isAntialiasing=!1,n.disableAntiAliasing()},et=function(){t.settings.isHighQualityAntialiasing=!0,n.enableHighQualityAntialiasing()},ot=function(){t.settings.isHighQualityAntialiasing=!1,n.disableHighQualityAntialiasing()},st=function(){t.settings.isShowStatistics=!0,n.showStatistic()},ht=function(){t.settings.isShowStatistics=!1,n.hideStatistic()},l=function(n){i=n},c=function(){if(!t.settings.isLiveView){var u=i.find("div.live-view"),r=i.find("img");u.length==0&&(i.append('<div class="live-view"><img id="{0}"/></div>'.format(HtmlCc.Libs.randomString(8))),u=i.find("div.live-view"),r=i.find("img")),u.show(),n.startStream(r.attr("id")),r.attr("src",r.attr("src")+"&timestamp="+ +new Date),t.settings.isLiveView=!0}},p=function(){if(t.settings.isLiveView){n.stopStream(),i.find("div.live-view").remove();var r=i.find("img");t.settings.isLiveView=!1}},ct={Passenger:"passengerView",PassengerDriverOnRight:"passengerViewR",Dashboard:"dashboardView",Wheel:"wheelsView",Back:"backView",BackDriverOnRight:"backViewR",Top:"topView"},lt=function(n){return ct[n]},ri=function(){var n=!1,t=!1,i=!1,r=!1,u=!1,f=!1,e=!1,o=!1;return{isFullscreen:n,isOpenGL:t,isStereo:i,isSuperSampling:r,isAntialiasing:u,isHighQualityAntialiasing:f,isShowStatistics:e,isLiveView:o}}(),t={setDebugMode:ei,setIp:ui,getIp:ti,setPort:tt,getPort:fi,isModelLoaded:h,init:wt,setup:bt,getVred:pt,getVredStatus:y,showInit:dt,selectVariantSet:v,selectVariantSets:ni,pauseAnimation:oi,getIsInitialized:yt,navigate:vt,setupLiveView:l,startLiveView:c,stopLiveView:p,zoom:ut,enableStereo:nt,disableStereo:k,enterFullscreen:w,exitFullscreen:b,enableOpenGL:d,enableRaytrace:g,enableSuperSampling:at,disableSuperSampling:rt,setSuperSamplingQuality:gt,enableAntiAliasing:it,disableAntiAliasing:ft,enableHighQualityAnitaliasing:et,disableHighQualityAntialiasing:ot,selectViewPoint:ii,showStatistics:st,hideStatistics:ht,viewToVariantSetTranslation:lt,settings:ri};return t}()